servicer:
  # Provider slug (usually matches the subdomain in `https://{provider}.studentaid.gov`)
  # Examples: nelnet, mohela, edfinancial, aidvantage
  provider: "${SERVICER_PROVIDER}"
  # Optional override if your portal does not match the standard pattern.
  # If unset/empty, we default to `https://{provider}.studentaid.gov`.
  base_url: ""
  username: "${SERVICER_USERNAME}"
  password: "${SERVICER_PASSWORD}"
  mfa_method: "email" # email only (automation)

# NOTE:
# Most users should not need to edit this YAML file at all.
# Fill out `.env` (including LOAN_GROUPS) and run the CLI.

gmail_imap:
  user: "${GMAIL_IMAP_USER}"
  app_password: "${GMAIL_IMAP_APP_PASSWORD}"
  folder: "${GMAIL_IMAP_FOLDER}"
  sender_hint: "${GMAIL_IMAP_SENDER_HINT}"
  subject_hint: "${GMAIL_IMAP_SUBJECT_HINT}"
  # Keep this broad; we'll extract a 6-digit code by regex
  code_regex: "\\b(\\d{6})\\b"

monarch:
  email: "${MONARCH_EMAIL}"
  password: "${MONARCH_PASSWORD}"
  token: "${MONARCH_TOKEN}"
  mfa_secret: "${MONARCH_MFA_SECRET}"
  transfer_category_name: "Transfer"
  # Merchant name to use for payment transactions (also used by dupe-check: date + amount + merchant)
  payment_merchant_name: "US Department of Education"
  # Optional: refine the Monarch-side duplicate guard by using the portal's payment confirmation/reference
  # number as a search term. Off by default.
  duplicate_guard_use_reference: "${MONARCH_DUPLICATE_GUARD_USE_REFERENCE}"
  session_file: "data/monarch_session.pickle"
  # Optional: naming scheme for loan-group manual accounts (used for auto-mapping / auto-creation).
  # Placeholders: {provider}, {provider_upper}, {provider_display}, {group}
  # Examples:
  #   "{provider}-{group}"        -> "nelnet-AA"
  #   "Federal-{group}"           -> "Federal-AA"
  #   "Student Loan-{group}"      -> "Student Loan-AA"
  loan_account_name_template: "{provider}-{group}"
  # If true, sync can create missing manual accounts (recommended to instead run setup-monarch-accounts once).
  auto_create_loan_accounts: false

state:
  db_path: "data/state.db"

logging:
  level: "${LOG_LEVEL}"
  file_path: "data/sync.log"

# Loan groups are configured via `.env` (recommended):
#   LOAN_GROUPS=AA,AB,AC
#   LOAN_GROUPS=1-01,1-02
#
# Advanced override: you *can* list groups here, but most users shouldn't need to:
# loans:
#   - group: "AA"
#   - group: "AB"

